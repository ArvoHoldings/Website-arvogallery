<!DOCTYPE html>
<html>
<head>
    <title>Arvo Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .center-text {
            text-align: center;
        }

        .frame-wrapper {
            display: flex;
            justify-content: center; /* horizontal center */
        }

        .frame-container {
            position: relative;
            display: inline-block; /* container matches image size */
        }

        .sparkle {
            position: absolute; /* relative to frame-container */
            border-radius: 50%;
            opacity: 0.8;
            pointer-events: auto;
            transition: transform 0.2s, opacity 0.2s;
        }
    </style>
</head>

<body>  
    <h1 class="center-text">Arvo Gallery</h1>
    <br>
    <p class="center-text">
        Producing creative sounds and visuals ðŸŽ¨
        <br><br><br><br><br><br><br>
    </p>

    <div class="frame-wrapper">
        <a href="https://www.youtube.com/@arvogallery">
            <div class="frame-container">
                <img src="/Images/picture frame.png" height="200" width="200" alt="picture frame" title="picture frame">
            </div>
        </a>
    </div>

    <script>
        const container = document.querySelector('.frame-container');
        const containerWidth = container.offsetWidth;
        const containerHeight = container.offsetHeight;
        const sparkleCount = 40;
        const sparkles = [];
        const isMobile = window.innerWidth <= 768;

        for (let i = 0; i < sparkleCount; i++) {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');

            sparkle.x = Math.random() * containerWidth - 4; // move 10px left
            if (sparkle.x < 0) sparkle.x = 0; // prevent negative position  
            sparkle.style.left = `${sparkle.x}px`;
            sparkle.y = Math.random() * containerHeight;
            sparkle.style.left = `${sparkle.x}px`;
            sparkle.style.top = `${sparkle.y}px`;

            sparkle.size = Math.random() * 8 + 5;
            sparkle.style.width = `${sparkle.size}px`;
            sparkle.style.height = `${sparkle.size}px`;

            const colors = ['#ffffff', '#ffd700', '#ff69b4', '#87cefa', '#aaffaa'];
            sparkle.style.background = `radial-gradient(circle, ${
                colors[Math.floor(Math.random() * colors.length)]
            }, transparent)`;

            const baseSpeed = Math.random() * 1.5 + 0.5;
            sparkle.speed = isMobile ? baseSpeed * 2 : baseSpeed;

            sparkle.addEventListener('mouseenter', () => {
                sparkle.style.transform = 'scale(2)';
                sparkle.style.opacity = 1;
            });
            sparkle.addEventListener('mouseleave', () => {
                sparkle.style.transform = 'scale(1)';
                sparkle.style.opacity = 0.8;
            });
            sparkle.addEventListener('click', () => {
                sparkle.remove();
                const newSparkle = createSparkle();
                container.appendChild(newSparkle);
                sparkles.push(newSparkle);
            });

            container.appendChild(sparkle);
            sparkles.push(sparkle);
        }

        function animate() {
            for (const s of sparkles) {
                s.y += s.speed;
                if (s.y > containerHeight) s.y = 0;
                s.style.top = `${s.y}px`;
            }
            requestAnimationFrame(animate);
        }

        animate();

        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');

            const offsetX = 4; // number of pixels to shift left
            sparkle.x = Math.random() * (containerWidth - offsetX); // ensures they stay inside container
            sparkle.style.left = `${sparkle.x}px`;
            sparkle.y = 0;
            sparkle.style.left = `${sparkle.x}px`;
            sparkle.style.top = `${sparkle.y}px`;
            sparkle.size = Math.random() * 8 + 5;
            sparkle.style.width = `${sparkle.size}px`;
            sparkle.style.height = `${sparkle.size}px`;

            const colors = ['#ffffff', '#ffd700', '#ff69b4', '#87cefa', '#aaffaa'];
            sparkle.style.background = `radial-gradient(circle, ${
                colors[Math.floor(Math.random() * colors.length)]
            }, transparent)`;

            const baseSpeed = Math.random() * 1.5 + 0.5;
            sparkle.speed = isMobile ? baseSpeed * 2 : baseSpeed;

            sparkle.style.pointerEvents = 'auto';
            sparkle.style.transition = 'transform 0.2s, opacity 0.2s';

            sparkle.addEventListener('mouseenter', () => {
                sparkle.style.transform = 'scale(2)';
                sparkle.style.opacity = 1;
            });
            sparkle.addEventListener('mouseleave', () => {
                sparkle.style.transform = 'scale(1)';
                sparkle.style.opacity = 0.8;
            });
            sparkle.addEventListener('click', () => {
                sparkle.remove();
                const newSparkle = createSparkle();
                container.appendChild(newSparkle);
                sparkles.push(newSparkle);
            });

            return sparkle;
        }
    </script>
</body>
</html>